{"ast":null,"code":"import { CategoryComponent } from '../category/category.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/categoryservice.service\";\nimport * as i3 from \"src/app/services/consumer.service\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../test/test.component\";\nimport * as i7 from \"../../directive/highlight.directive\";\nimport * as i8 from \"../category/category.component\";\nimport * as i9 from \"../../pipe/filter.pipe\";\nconst _c0 = [\"child\"];\nconst _c1 = [\"i\"];\nfunction ListCategoriesComponent_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 8)(2, \"label\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"app-category\", 9);\n    i0.ɵɵlistener(\"dataEmitter\", function ListCategoriesComponent_ng_container_10_Template_app_category_dataEmitter_4_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.DeleteChild($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const c_r3 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r1.test);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"data\", c_r3)(\"title\", ctx_r1.test);\n  }\n}\nexport class ListCategoriesComponent {\n  constructor(router, categoryService, Consumer) {\n    this.router = router;\n    this.categoryService = categoryService;\n    this.Consumer = Consumer;\n    this.categories = [];\n    this.titre = \"\";\n    this.test = '10';\n  }\n  ngAfterViewInit() {\n    this.testComponent.start();\n    console.log(this.testComponent.test);\n    console.log(this.input);\n    this.children.forEach(e => console.log(e));\n  }\n  ngOnDestroy() {\n    this.Subscribers.unsubscribe();\n  }\n  ngOnInit() {\n    // this.categories=this.categoryService.getCategories();\n    this.Subscribers = this.Consumer.get('category').subscribe({\n      next: data => this.categories = data,\n      error: e => console.log(e),\n      complete: () => console.log(\"termier\")\n    });\n  }\n  Alerte(description) {\n    alert(description);\n  }\n  get filterCateg() {\n    if (!this.titre) {\n      return this.categories;\n    }\n    return this.categories.filter(category => category.title.toLowerCase().includes(this.titre.toLowerCase()));\n  }\n  changeTest() {\n    this.test = '12';\n  }\n  afficheDescription(id) {\n    this.categories.forEach(element => {\n      if (element.id == id) {\n        alert(element.description);\n      }\n    });\n  }\n  update(c) {\n    console.log(JSON.stringify(c));\n    this.router.navigate(['/category/update', JSON.stringify(c)]);\n  }\n  DeleteChild(event) {\n    const categoryId = event;\n    this.categories = this.categories.filter(c => c.id !== categoryId);\n    console.log(`Catégorie avec l'ID ${categoryId} supprimée`);\n  }\n  static {\n    this.ɵfac = function ListCategoriesComponent_Factory(t) {\n      return new (t || ListCategoriesComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.CategoryserviceService), i0.ɵɵdirectiveInject(i3.ConsumerService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ListCategoriesComponent,\n      selectors: [[\"app-list-categories\"]],\n      viewQuery: function ListCategoriesComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n          i0.ɵɵviewQuery(_c1, 5);\n          i0.ɵɵviewQuery(CategoryComponent, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.testComponent = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.input = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.children = _t);\n        }\n      },\n      decls: 16,\n      vars: 6,\n      consts: [[1, \"container\", 2, \"margin-top\", \"30px\"], [1, \"row\"], [\"appHighlight\", \"\"], [\"type\", \"text\", \"id\", \"search\", \"name\", \"filter\", \"placeholder\", \"Rechercher un categorie ...\", 1, \"form-control\", \"rounded-pill\", \"shadow-sm\", 3, \"ngModel\", \"ngModelChange\"], [\"i\", \"\"], [1, \"form-control\", \"rounded-pill\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [\"child\", \"\"], [1, \"col-md-4\"], [3, \"data\", \"title\", \"dataEmitter\"]],\n      template: function ListCategoriesComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\", 2);\n          i0.ɵɵtext(3, \"Survolez-moi pour voir la surbrillance !\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"input\", 3, 4);\n          i0.ɵɵlistener(\"ngModelChange\", function ListCategoriesComponent_Template_input_ngModelChange_4_listener($event) {\n            return ctx.titre = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\");\n          i0.ɵɵelement(7, \"br\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"button\", 5);\n          i0.ɵɵlistener(\"click\", function ListCategoriesComponent_Template_button_click_8_listener() {\n            return ctx.changeTest();\n          });\n          i0.ɵɵtext(9, \"changeTest\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(10, ListCategoriesComponent_ng_container_10_Template, 5, 3, \"ng-container\", 6);\n          i0.ɵɵpipe(11, \"filter\");\n          i0.ɵɵelementStart(12, \"div\", 1);\n          i0.ɵɵelement(13, \"app-test\", null, 7);\n          i0.ɵɵtext(15);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          const _r2 = i0.ɵɵreference(14);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.titre);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(11, 3, ctx.categories, ctx.titre));\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\" \", _r2.test, \" \");\n        }\n      },\n      dependencies: [i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i5.NgForOf, i6.TestComponent, i7.HighlightDirective, i8.CategoryComponent, i9.FilterPipe],\n      styles: [\".highlight[_ngcontent-%COMP%] {\\n    background-color: yellow;\\n    padding: 10px;\\n    border: 1px solid black;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvQ29tcG9uZW50cy9saXN0LWNhdGVnb3JpZXMvbGlzdC1jYXRlZ29yaWVzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSx3QkFBd0I7SUFDeEIsYUFBYTtJQUNiLHVCQUF1QjtBQUMzQiIsInNvdXJjZXNDb250ZW50IjpbIi5oaWdobGlnaHQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogeWVsbG93O1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["CategoryComponent","i0","ɵɵelementContainerStart","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ListCategoriesComponent_ng_container_10_Template_app_category_dataEmitter_4_listener","$event","ɵɵrestoreView","_r5","ctx_r4","ɵɵnextContext","ɵɵresetView","DeleteChild","ɵɵelementContainerEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r1","test","ɵɵproperty","c_r3","ListCategoriesComponent","constructor","router","categoryService","Consumer","categories","titre","ngAfterViewInit","testComponent","start","console","log","input","children","forEach","e","ngOnDestroy","Subscribers","unsubscribe","ngOnInit","get","subscribe","next","data","error","complete","Alerte","description","alert","filterCateg","filter","category","title","toLowerCase","includes","changeTest","afficheDescription","id","element","update","c","JSON","stringify","navigate","event","categoryId","ɵɵdirectiveInject","i1","Router","i2","CategoryserviceService","i3","ConsumerService","selectors","viewQuery","ListCategoriesComponent_Query","rf","ctx","ListCategoriesComponent_Template_input_ngModelChange_4_listener","ɵɵelement","ListCategoriesComponent_Template_button_click_8_listener","ɵɵtemplate","ListCategoriesComponent_ng_container_10_Template","ɵɵpipeBind2","ɵɵtextInterpolate1","_r2"],"sources":["C:\\Users\\yosry\\projetAngular\\src\\app\\Components\\list-categories\\list-categories.component.ts","C:\\Users\\yosry\\projetAngular\\src\\app\\Components\\list-categories\\list-categories.component.html"],"sourcesContent":["import { Component, OnInit, QueryList, ViewChild, ViewChildren } from '@angular/core';\nimport { Route, Router } from '@angular/router';\nimport { Categorie } from 'src/app/models/categories';\nimport { TestComponent } from '../test/test.component';\nimport { CategoryComponent } from '../category/category.component';\nimport { CategoryserviceService } from 'src/app/services/categoryservice.service';\nimport { ConsumerService } from 'src/app/services/consumer.service';\nimport { Subscribable, Subscription } from 'rxjs';\n@Component({\n  selector: 'app-list-categories',\n  templateUrl: './list-categories.component.html',\n  styleUrls: ['./list-categories.component.css']\n})\nexport class ListCategoriesComponent implements OnInit {\nconstructor(private router: Router,private categoryService:CategoryserviceService, private Consumer:ConsumerService) { }\n@ViewChild('child') testComponent!:TestComponent;\n@ViewChild('i') input!:HTMLInputElement;\n@ViewChildren(CategoryComponent)children!:QueryList<CategoryComponent>;\n\nngAfterViewInit():void\n{\n  this.testComponent.start();\n  console.log(this.testComponent.test)\n  console.log(this.input)\n  this.children.forEach((e)=> console.log(e));\n} \n  Subscribers!: Subscription;\n ngOnDestroy():void{\n  this.Subscribers.unsubscribe();\n  }\n  ngOnInit(): void {\n   // this.categories=this.categoryService.getCategories();\n    this.Subscribers=this.Consumer.get<Categorie[]>('category').subscribe({\n      next:(data)=>this.categories=data,\n      error:(e)=>console.log(e),\n      complete:()=>console.log(\"termier\")\n    });\n  }\n  Alerte(description:string){\n    alert(description);\n  }\n  categories : Categorie[] = [];\n  titre:string=\"\";\n  test: string = '10';\n  get filterCateg(): Categorie[] {\n    if (!this.titre) {\n      return this.categories;\n    }\n    return this.categories.filter(category => \n      category.title.toLowerCase().includes(this.titre.toLowerCase())\n    );\n  }\n\n    changeTest() {\n      this.test = '12';\n    }\n    afficheDescription(id:number){\n      this.categories.forEach(element => {\n        if (element.id == id) {\n          alert(element.description)\n        }\n      })\n    }\n    update(c:Categorie){\n    console.log(JSON.stringify(c))\n    this.router.navigate(['/category/update', JSON.stringify(c)]); \n    }\n\n     DeleteChild(event: any): void {\n        const categoryId = event; \n      this.categories = this.categories.filter((c) => c.id !== categoryId);\n      console.log(`Catégorie avec l'ID ${categoryId} supprimée`);\n    }\n    \n}","\n<div class=\"container\" style=\"margin-top:30px\">\n  <div class=\"row\">\n    <h3 appHighlight>Survolez-moi pour voir la surbrillance !</h3>\n    <input\n      type=\"text\"\n      id=\"search\"\n      class=\"form-control rounded-pill shadow-sm\"\n      name=\"filter\"\n      placeholder=\"Rechercher un categorie ...\"\n      [(ngModel)]=\"titre\" #i\n    /><div>\n      <br/>\n    </div>\n      <button  class=\"form-control rounded-pill \" (click)=\"changeTest()\">changeTest</button>\n      <ng-container *ngFor=\"let c of categories | filter:titre\">\n          <div class=\"col-md-4\">\n      <!-- <div *ngIf=\"title.toLowerCase() == c.title.toLowerCase() || title == ''\" class=\"col-md-4\" style=\"margin-bottom: 20px;\"> -->\n      <label >{{test}}</label>\n        <app-category [data]=\"c\" [title]=\"test\" (dataEmitter)=\"DeleteChild($event)\"></app-category> \n      </div>\n      </ng-container>\n\n      <div class=\"row\">\n          <app-test #child></app-test>\n         {{child.test}}\n      </div>\n  </div>\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}